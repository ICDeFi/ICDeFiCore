if(void 0===$add)var $add={version:{},auto:{disabled:!1}};$add.version.Slider="2.0.1",$add.SliderObj=function(t){function e(t,e){return Math.round(t*(1/e))/(1/e)}function i(t){return isNaN(parseFloat(t))&&t.length>0?i(t.substr(1)):parseFloat(t)}Obj.apply(this),this._settings={direction:"horizontal",min:0,max:100,step:.1,value:50,fontsize:18,formatter:function(t){if((this._settings.step+"").indexOf(".")>-1)var e=(this._settings.step+"").split(".").pop().length;else var e=0;if(v=i(t),0>t){var s=!0;t=0-t}else var s=!1;if(isNaN(t))return"NaN";var a=Math.floor(t),n=t-a;for(n=Math.round(n*Math.pow(10,e)),n+="";n.length<e;)n="0"+n;return(s?"-":"")+a+(e>0?"."+n:"")},timeout:2e3,range:!1,id:!1,name:"","class":""},Object.defineProperty(this,"settings",{get:function(){return this.trigger("getsetting settings",this._settings),this._settings},set:function(e){this._settings=$.extend(this._settings,t),this.trigger("setsettings settings",this._settings),this.refresh()}}),Object.defineProperty(this,"value",{get:function(){return this.trigger("getvalue value",this._settings.value),this._settings.value},set:function(t){var s=this;if(this._settings.value=t,this._elements.find(".addui-slider-input").val(this._settings.value),this._settings.range){var d=e(parseFloat(this._settings.value.split(",")[0]),this._settings.step),r=e(parseFloat(this._settings.value.split(",")[1]),this._settings.step),l=this._settings.max-this._settings.min,o=d-this._settings.min,h=r-this._settings.min,v=o/l*100,u=h/l*100;this._elements.each(function(t,e){var i=$(e);"vertical"==s._settings.direction?(i.find(".addui-slider-handle").eq(0).css("bottom",v+"%"),i.find(".addui-slider-handle").eq(1).css("bottom",u+"%"),i.find(".addui-slider-range").css("bottom",v+"%").css("height",u-v+"%")):(i.find(".addui-slider-handle").eq(0).css("left",v+"%"),i.find(".addui-slider-handle").eq(1).css("left",u+"%"),i.find(".addui-slider-range").css("left",v+"%").css("width",u-v+"%")),i.find(".addui-slider-handle").eq(0).find(".addui-slider-value span").html(toFunc(s._settings.formatter).call(s,d)),i.find(".addui-slider-handle").eq(1).find(".addui-slider-value span").html(toFunc(s._settings.formatter).call(s,r))})}else{var a=i(this._settings.value)-this._settings.min,n=e(a,this._settings.step)/(this._settings.max-this._settings.min)*100;"vertical"==this._settings.direction?(this._elements.find(".addui-slider-handle").css("bottom",n+"%"),this._elements.find(".addui-slider-range").css("height",n+"%"),this._elements.find(".addui-slider-range").css("bottom","0%")):(this._elements.find(".addui-slider-handle").css("left",n+"%"),this._elements.find(".addui-slider-range").css("width",n+"%")),this._elements.find(".addui-slider-value span").html(toFunc(this._settings.formatter).call(this,this._settings.value))}}}),this.renderer=function(){function o(i){if(i.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==i.type)var a=i.originalEvent.changedTouches[0].pageY;else var a=i.pageY;var n=s.offset().top+s.height(),d=n-a,r=d/s.height()*100}else{if("touchmove"==i.type)var l=i.originalEvent.changedTouches[0].pageX;else var l=i.pageX;var o=s.offset().left,h=l-o,r=h/s.width()*100}var v=e(r/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;v=Math.min(t._settings.max,Math.max(t._settings.min,v)),t.value=e(v,t._settings.step)}function h(e){$(window).off("mousemove touchmove",o),l=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout)}function g(a){if(a.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==a.type)var n=a.originalEvent.changedTouches[0].pageY;else var n=a.pageY;var d=s.offset().top+s.height(),r=d-n,l=t._settings.max-t._settings.min,o=r/s.height()*100}else{if("touchmove"==a.type)var h=a.originalEvent.changedTouches[0].pageX;else var h=a.pageX;var v=s.offset().left,u=h-v,l=t._settings.max-t._settings.min,o=u/s.width()*100}var g=o/100*l,m=e(g+t._settings.min,t._settings.step);m=Math.min(t._settings.max,Math.max(t._settings.min,m));var f=e(i(t._settings.value.split(",")[1]),t._settings.step);m>f&&(f=m),t.value=m+","+f}function m(e){$(window).off("mousemove touchmove",g),u=setTimeout(function(){v.removeClass("addui-slider-handle-active")},t._settings.timeout)}function _(a){if(a.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==a.type)var n=a.originalEvent.changedTouches[0].pageY;else var n=a.pageY;var d=s.offset().top+s.height(),r=d-n,l=r/s.height()*100}else{if("touchmove"==a.type)var o=a.originalEvent.changedTouches[0].pageX;else var o=a.pageX;var h=s.offset().left,v=o-h,l=v/s.width()*100}var u=t._settings.max-t._settings.min,g=l/100*u,m=e(g+t._settings.min,t._settings.step);m=Math.min(t._settings.max,Math.max(t._settings.min,m));var f=e(i(t._settings.value.split(",")[0]),t._settings.step);f>m&&(f=m),t.value=f+","+m}function p(e){$(window).off("mousemove touchmove",_),c=setTimeout(function(){f.removeClass("addui-slider-handle-active")},t._settings.timeout)}var t=this,s=$("<div class='addui-slider addui-slider-"+this._settings.direction+(this._settings.range?" addui-slider-isrange":"")+" "+this._settings["class"]+"' "+(this._settings.id?"id='"+this._settings.id+"'":"")+"></div>"),n=($("<input class='addui-slider-input' type='hidden' name='"+this._settings.name+"' value='"+this._settings.value+"' />").appendTo(s),$("<div class='addui-slider-track'></div>").appendTo(s));$("<div class='addui-slider-range'></div>").appendTo(n);if(this._settings.range){var v=$("<div class='addui-slider-handle addui-slider-handle-l'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),u=null;v.on("mousedown touchstart",function(t){clearTimeout(u),v.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",g),$(window).one("mouseup touchend",m)});var f=$("<div class='addui-slider-handle addui-slider-handle-h'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),c=null;f.on("mousedown touchstart",function(t){clearTimeout(c),f.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",_),$(window).one("mouseup touchend",p)})}else{var r=$("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),l=null;r.on("mousedown touchstart",function(t){clearTimeout(l),r.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",o),$(window).one("mouseup touchend",h)}),s.on("click",function(i){if(i.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==i.type)var a=i.originalEvent.changedTouches[0].pageY;else var a=i.pageY;var n=s.offset().top+s.height(),d=n-a,o=d/s.height()*100}else{if("touchmove"==i.type)var h=i.originalEvent.changedTouches[0].pageX;else var h=i.pageX;var v=s.offset().left,u=h-v,o=u/s.width()*100}var g=e(o/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;g=Math.min(t._settings.max,Math.max(t._settings.min,g)),clearTimeout(l),r.addClass("addui-slider-handle-active"),l=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout),t.value=g})}return s},this.init=function(t){var s=this;if(this.settings=t,this._settings.range){var a=this._settings.value+"";if(a.indexOf(",")>-1){var n=a.split(","),d=i(n[0]);d=Math.min(this._settings.max,Math.max(this._settings.min,d)),d=e(d,this._settings.step);var r=i(n[1]);r=Math.min(this._settings.max,Math.max(this._settings.min,r)),r=e(r,this._settings.step)}else{var a=e(Math.max(this._settings.min,Math.min(this._settings.max,i(this._settings.value))),this._settings.step),l=(this._settings.max-this._settings.min)/2;if(l>a)var d=a,r=this._settings.max-a;else var r=a,d=this._settings.min+a}r>d?this._settings.value=d+","+r:this._settings.value=r+","+d}else this._settings.value=Math.max(this._settings.min,Math.min(this._settings.max,i(this._settings.value)));this.on("render",function(){s.value=s._settings.value}),this.trigger("init",{settings:this._settings})},this.init.apply(this,arguments)},$add.Slider=function(t,e){var i=$(t).each(function(t,i){var s=$(i),a={};s.attr("name")&&(a.name=s.attr("name")),s.attr("class")&&(a["class"]=s.attr("class")),s.attr("id")&&(a.id=s.attr("id")),s.attr("value")&&(a.value=s.attr("value")),s.attr("min")&&(a.min=s.attr("min")),s.attr("max")&&(a.max=s.attr("max")),s.attr("step")&&(a.step=s.attr("step")),e=$.extend(a,s.data(),e);var n=new $add.SliderObj(e);return n.render(s,"replace"),n});return 0==i.length?null:1==i.length?i[0]:i},$.fn.addSlider=function(t){$add.Slider(this,t)},$add.auto.Slider=function(){$add.auto.disabled||$("[data-addui=slider]").addSlider()},$(function(){$add.auto.Slider()});